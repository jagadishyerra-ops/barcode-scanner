<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Phone Camera Barcode Scanner</title>
  <style>
    body { font-family: Arial, sans-serif; text-align:center; padding:20px; background:#f0f0f0; }
    video { width:90%; max-width:400px; border:2px solid #333; border-radius:10px; }
    input, button, select { padding:10px; margin:5px; font-size:1rem; border-radius:5px; }
    #barcode { margin-top:20px; }
  </style>
</head>
<body>
  <h1>ðŸ“· Phone Camera Barcode Scanner & Generator</h1>

  <video id="video" autoplay playsinline></video><br>

  <select id="facingSelect">
    <option value="environment">Rear Camera</option>
    <option value="user">Front Camera</option>
  </select>
  <button id="captureBtn">Capture & OCR</button><br>

  <input type="text" id="numberInput" placeholder="Detected or enter number"><br>
  <select id="formatSelect">
    <option value="CODE128">Code 128</option>
    <option value="EAN13">EAN-13</option>
    <option value="UPC">UPC</option>
    <option value="CODE39">Code 39</option>
  </select>
  <button id="generateBtn">Generate Barcode</button>
  <button id="clearBtn">Clear</button>
  <button id="downloadBtn">Download Barcode</button>

  <svg id="barcode"></svg>
  <canvas id="captureCanvas" style="display:none;"></canvas>
  <div id="ocrLog" style="margin-top:10px;"></div>

  <script src="https://unpkg.com/tesseract.js@4.1.4/dist/tesseract.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
  <script>
    const video = document.getElementById('video');
    const captureBtn = document.getElementById('captureBtn');
    const numberInput = document.getElementById('numberInput');
    const generateBtn = document.getElementById('generateBtn');
    const clearBtn = document.getElementById('clearBtn');
    const downloadBtn = document.getElementById('downloadBtn');
    const barcodeEl = document.getElementById('barcode');
    const canvas = document.getElementById('captureCanvas');
    const facingSe
